# Main configuration file for Barman (Backup and Recovery Manager for PostgreSQL)
# Further information on the Barman project at www.pgbarman.org
# IMPORTANT: Please do not edit this file as it is managed by Puppet!

# Global options
[barman]
barman_home = <%= @home %>
barman_user = <%= @user %>
log_file = <%= @logfile %>
archiver = <%= @archiver %>
<%- if @archiver_batch_size -%>
archiver_batch_size = <%= @archiver_batch_size %>
<%- end -%>
<%- if @backup_method -%>
backup_method = <%= @backup_method %>
<%- end -%>
backup_options = <%= @backup_options %>
<%- if @recovery_options -%>
recovery_options = <%= @recovery_options %>
<%- end -%>
<%- if @bandwidth_limit -%>
bandwidth_limit = <%= @bandwidth_limit %>
<%- end -%>
<%- if @check_timeout -%>
check_timeout = <%= @check_timeout %>
<%- end -%>
<%- if @compression -%>
compression = <%= @compression %>
<%- end -%>
<%- if @custom_compression_filter -%>
custom_compression_filter = <%= @custom_compression_filter %>
<%- end -%>
<%- if @custom_decompression_filter -%>
custom_decompression_filter = <%= @custom_decompression_filter %>
<%- end -%>
<%- if @log_level -%>
log_level = <%= @log_level %>
<%- end -%>
minimum_redundancy = <%= @minimum_redundancy %>
<%- if @network_compression -%>
network_compression = <%= @network_compression %>
<%- end -%>
<%- if @parallel_jobs -%>
parallel_jobs = <%= @parallel_jobs %>
<%- end -%>
<%- if @path_prefix -%>
path_prefix = <%= @path_prefix %>
<%- end -%>
<%- if @post_archive_retry_script != false -%>
post_archive_retry_script = <%= @post_archive_retry_script %>
<%- end -%>
<%- if @post_archive_script != false -%>
post_archive_script = <%= @post_archive_script %>
<%- end -%>
<%- if @post_backup_retry_script != false -%>
post_backup_retry_script = <%= @post_backup_retry_script %>
<%- end -%>
<%- if @post_backup_script != false -%>
post_backup_script = <%= @post_backup_script %>
<%- end -%>
<%- if @pre_archive_retry_script != false -%>
pre_archive_retry_script = <%= @pre_archive_retry_script %>
<%- end -%>
<%- if @pre_archive_script != false -%>
pre_archive_script = <%= @pre_archive_script %>
<%- end -%>
<%- if @pre_backup_retry_script != false -%>
pre_backup_retry_script = <%= @pre_backup_retry_script %>
<%- end -%>
<%- if @pre_backup_script != false -%>
pre_backup_script = <%= @pre_backup_script %>
<%- end -%>
<%- if @immediate_checkpoint != false -%>
immediate_checkpoint = <%= @immediate_checkpoint %>
<%- end -%>
<%- if @basebackup_retry_times != false -%>
basebackup_retry_times = <%= @basebackup_retry_times %>
<%- end -%>
<%- if @basebackup_retry_sleep != false -%>
basebackup_retry_sleep = <%= @basebackup_retry_sleep %>
<%- end -%>
<%- if @last_backup_maximum_age != false -%>
last_backup_maximum_age = <%= @last_backup_maximum_age %>
<%- end -%>
retention_policy = <%= @retention_policy %>
retention_policy_mode = <%= @retention_policy_mode %>
<%- if @slot_name -%>
slot_name = <%= @slot_name %>
<%- end -%>
streaming_archiver = <%= @streaming_archiver %>
<%- if @streaming_archiver_batch_size -%>
streaming_archiver_batch_size = <%= @streaming_archiver_batch_size %>
<%- end -%>
<%- if @streaming_archiver_name -%>
streaming_archiver_name = <%= @streaming_archiver_name %>
<%- end -%>
<%- if @streaming_backup_name -%>
streaming_backup_name = <%= @streaming_backup_name %>
<%- end -%>
<%- if @tablespace_bandwidth_limit -%>
tablespace_bandwidth_limit = <%= @tablespace_bandwidth_limit %>
<%- end -%>
wal_retention_policy = <%= @wal_retention_policy %>
<%- if @reuse_backup != false -%>
reuse_backup = <%= @reuse_backup %>
<%- end -%>
configuration_files_directory = /etc/barman.conf.d
<%- if @custom_lines -%>
<%= @custom_lines %>
<%- end -%>
