# Main configuration file for Barman (Backup and Recovery Manager for PostgreSQL)
# Further information on the Barman project at www.pgbarman.org
# IMPORTANT: Please do not edit this file as it is managed by Puppet!

# Global options
[barman]
barman_home = <%= @home %>
barman_user = <%= @user %>
log_file = <%= @logfile %>
<%- if @compression -%>
compression = <%= @compression %>
<%- end -%>
<%- if @pre_backup_script != false -%>
pre_backup_script = <%= @pre_backup_script %>
<%- end -%>
<%- if @post_backup_script != false -%>
post_backup_script = <%= @post_backup_script %>
<%- end -%>
<%- if @pre_archive_script != false -%>
pre_archive_script = <%= @pre_archive_script %>
<%- end -%>
<%- if @post_archive_script != false -%>
post_archive_script = <%= @post_archive_script %>
<%- end -%>
<%- if @immediate_checkpoint != false -%>
immediate_checkpoint = <%= @immediate_checkpoint %>
<%- end -%>
<%- if @basebackup_retry_times != false -%>
basebackup_retry_times = <%= @basebackup_retry_times %>
<%- end -%>
<%- if @basebackup_retry_sleep != false -%>
basebackup_retry_sleep = <%= @basebackup_retry_sleep %>
<%- end -%>
<%- if @last_backup_maximum_age != false -%>
last_backup_maximum_age = <%= @last_backup_maximum_age %>
<%- end -%>
backup_options = <%= @backup_options %>
minimum_redundancy = <%= @minimum_redundancy %>
retention_policy = <%= @retention_policy %>
retention_policy_mode = <%= @retention_policy_mode %>
wal_retention_policy = <%= @wal_retention_policy %>
<%- if @reuse_backup != false -%>
reuse_backup = <%= @reuse_backup %>
<%- end -%>
configuration_files_directory = /etc/barman.conf.d
<%- if @custom_lines -%>
<%= @custom_lines %>
<%- end -%>
